{% extends 'base.html.twig' %}
{% block title %}My comments{% endblock %}
{% block body %}
<section class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 md:p-8 flex flex-col gap-6">
    {{ include('components/_nav.html.twig') }}
    <div class="w-full border-b border-gray-300 dark:border-gray-600 pb-4">
        <h1 class="text-3xl font-semibold text-gray-800 dark:text-white">Mes commentaires</h1>
        <p class="text-gray-500 dark:text-gray-400 mt-1">Historique de vos commentaires publiés</p>
    </div>
    {% if comments is empty %}
        <p class="text-gray-600 dark:text-gray-300">Vous n’avez encore publié aucun commentaire.</p>
    {% else %}
        <ul class="space-y-6 w-full">
            {% for comment in comments %}
                <li class="p-4 rounded-xl shadow-sm bg-gray-100 dark:bg-gray-700 flex justify-between items-start">
                    <div class="flex-1">
                        <p class="text-gray-600 dark:text-gray-300">{{ comment.content }}</p>
                        <time datetime="{{ comment.createdAt ? comment.createdAt|date('c') : '' }}" class="block text-sm text-gray-500 dark:text-gray-400 mt-2">Publié {{ comment.createdAt ? comment.createdAt|ago : 'il y a un moment'}} on {{comment.artwork.title}}</time>
                    </div>
                    <div class="flex flex-col items-end gap-2">
                        <a href="{{ path('app_artwork_show', {'id': comment.artwork.id}) }}" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-sm inline-block">Voir mon commentaire</a>
                        {{ include('comment/_delete_form.html.twig', {'comment': comment}) }}
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
</section>
{% endblock %}
