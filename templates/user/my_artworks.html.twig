{% extends 'base.html.twig' %}
{% block title %}Mes œuvres{% endblock %}
{% block body %}
    <section class="bg-white dark:bg-gray-800 rounded-2xl shadow-md p-4 md:p-8 flex flex-col items-start gap-6">
        {{ include('components/_nav.html.twig') }}
        <section class="w-full border-b border-gray-300 dark:border-gray-600 pb-4">
            <h2 class="text-3xl font-semibold text-gray-800 dark:text-white">Mes œuvres</h2>
            <p class="text-gray-500 dark:text-gray-400 mt-1">Voici la liste de vos œuvres publiées</p>
        </section>

        {% if artworks is empty %}
            <p class="text-gray-600 dark:text-gray-300">{{'artwork.none'|trans}}</p>
        {% else %}
            <ul class="w-full space-y-6">
                {% for artwork in artworks %}
                    <li class="p-4 rounded-xl shadow-sm bg-gray-100 dark:bg-gray-700 flex justify-between items-start">
                        <div class="flex-1">
                            <p class="text-xl font-semibold text-gray-800 dark:text-white">{{ artwork.title }}</p>
                            <p class="text-gray-600 dark:text-gray-300 mt-1">{{ artwork.description|length > 100 ? artwork.description|slice(0, 100) ~ '...' : artwork.description }}</p>
                            <time datetime="{{ artwork.createdAt|date('c') }}" class="block text-sm text-gray-500 dark:text-gray-400 mt-2">{{'created'|trans}} {{ artwork.createdAt|ago }}</time>
                        </div>
                        <div class="flex flex-col items-end gap-2">
                            <a href="{{ path('app_artwork_show', {'id': artwork.id}) }}" class="btn btn-gray">{{ ux_icon('ic:outline-arrow-forward', { class: 'w-5 h-5' }) }}<span class="md">{{'artwork.show'|trans}}</span></a>
                            {{ include('artwork/_delete_form.html.twig') }}
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </section>
{% endblock %}
