{% block create %}
<turbo-stream action="append" target="messages_artwork">
    <template>
    {% set isOwn = message.sender == user %}
        <article id="message_{{ message.id }}" class="flex {{ isOwn ? 'justify-end' : 'justify-start' }}">
            <div class="inline-block max-w-[70%] px-4 py-2 rounded-2xl shadow break-words whitespace-normal {{ isOwn ? 'bg-green-100 dark:bg-green-700 text-green-900 dark:text-white rounded-br-none' : 'bg-blue-100 dark:bg-blue-700 text-blue-900 dark:text-white rounded-bl-none'}}">
                <p class="text-sm leading-snug break-words">{{ message.content }}</p>
                <p class="text-xs text-gray-500 dark:text-gray-300 mt-1 text-right">{{ message.createdAt|ago }}</p>
            </div>
        </article>
    </template>
</turbo-stream>

<turbo-stream action="replace" target="new_message_form">
    <template>
        {{ include('conversation/_form.html.twig') }}
    </template>
</turbo-stream>
{% endblock %}
