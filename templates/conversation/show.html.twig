{% extends 'base.html.twig' %}

{% block title %}Conversation{% endblock %}

{% block body %}
<section class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 md:p-8 w-full overflow-hidden">
    {{ include('components/_nav.html.twig') }}
    <h2 id="messages_artwork" class="text-xl font-semibold mb-4" {{ turbo_stream_listen('conversation-' ~ conversation.id) }}>{{conversation.artwork.title}}</h2>
    {% for message in messages %}
        <article id="message_{{ message.id }}" class="mb-4">
            <p class="{{ message.sender == app.user ? 'text-green-600' : 'text-blue-600' }}"><strong>{{ message.sender.username }}</strong>: {{ message.content }}</p>
            <p class="text-sm text-gray-500">{{ message.createdAt|ago }}</p>
        </article>
    {% endfor %}
    {{ include('conversation/_form.html.twig') }}
</section>
{% endblock %}
