<header id="site-header" data-controller="header" class="fixed top-4 left-1/2 duration-300 transition-transform -translate-x-1/2 z-50 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-lg px-4 md:px-8 py-4 w-[96%] max-w-5xl">
    <section class="container mx-auto flex justify-between items-center gap-2 md:gap-4">
        <a href="{{ path('app_artwork_index') }}" class="text-2xl font-bold">
            <span class="hidden md:inline">L'Atelier de Gilles</span>
            <span class="inline md:hidden">ADG</span>
        </a>
        {% if app.request.attributes.get('_route') == 'app_artwork_index' %}
        <form method="get" action="{{ path('app_artwork_index') }}" class="w-full flex-1">
            <input type="text" name="q" value="{{ query }}" placeholder="Search artworks..." class="w-full border border-gray-300 dark:border-gray-700 rounded-md px-4 bg-white/80 dark:bg-gray-700/80 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-400">
        </form>
        {% endif %}
        <nav aria-label="Main navigation" class="flex flex-wrap gap-2 md:gap-4 justify-end items-center">
            <button data-controller="theme" data-theme-target="button" data-action="click->theme#toggle" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 text-sm hover:bg-gray-400 dark:hover:bg-gray-600 transition">☀️</button>
            {% if app.user %}
                <a href="{{ path('app_profile') }}" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 text-sm hover:bg-gray-400 dark:hover:bg-gray-600 transition">Profil</a>
                <a href="{{ path('app_logout') }}" class="px-3 py-1 rounded bg-red-300 dark:bg-red-700 text-sm hover:bg-red-400 dark:hover:bg-red-600 transition">Sign out</a>
            {% else %}
                {% if app.request.attributes.get('_route') == 'app_login' %}
                    <a href="{{ path('app_register') }}" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 text-sm hover:bg-gray-400 dark:hover:bg-gray-600 transition">Register</a>
                {% elseif app.request.attributes.get('_route') == 'app_register' %}
                    <a href="{{ path('app_login') }}" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 text-sm hover:bg-gray-400 dark:hover:bg-gray-600 transition">Sign in</a>
                {% else %}
                    <a href="{{ path('app_login') }}" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 text-sm hover:bg-gray-400 dark:hover:bg-gray-600 transition">Sign in</a>
                    <a href="{{ path('app_register') }}" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 text-sm hover:bg-gray-400 dark:hover:bg-gray-600 transition">Register</a>
                {% endif %}
            {% endif %}
        </nav>
    </section>
</header>
